<nz-layout class="layout">
    <nz-header>
        <div nz-row nzJustify="space-between">
            <div nz-col>
                <ng-container *ngIf="isInPrivate;else isInPublic">
                    <button (click)="onLeavePrivateRoom()" nz-button nzType="dashed" [nzDanger]="true">
                        <span>Leave</span>
                        <i nz-icon nzType="close" nzTheme="outline"></i>
                    </button>
                </ng-container>
                <ng-template #isInPublic>
                    <button (click)="onNewPrivateRoom()" nz-button nzType="dashed">
                        <span>New private room</span>
                        <i nz-icon nzType="plus" nzTheme="outline"></i>
                    </button>
                </ng-template>
            </div>
            <div nz-col>
                <div class="user-menu" *ngIf="currentUser">
                    <div nz-row nzGutter="16" nzAlign="middle">
                        <div nz-col>
                            <span>Hi, <b>{{currentUser.displayName}}</b></span>
                        </div>
                        <div nz-col class="user-menu__avatar">
                            <nz-avatar nzSize="large" nzIcon="user" [nzSrc]="currentUser.avatar" nz-dropdown
                                [nzDropdownMenu]="userMenu" nzPlacement="bottomRight">
                            </nz-avatar>
                            <nz-dropdown-menu #userMenu="nzDropdownMenu">
                                <ul nz-menu>
                                    <li nz-menu-item (click)="onLogout()">Logout</li>
                                </ul>
                            </nz-dropdown-menu>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nz-header>
    <nz-content>
        <router-outlet></router-outlet>
    </nz-content>
</nz-layout>